<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Snoozer by theodorewiles</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    
  </head>
  <body>
    <div id="ytplayer" class="foo"></div>
    
    
function printduration(s) {

$.getJSON('http://gdata.youtube.com/feeds/api/videos/'+ s +'?v=2&alt=jsonc', 
	function(data,status,xhr){
	  // document.getElementById("times").innerHTML += data.data.duration + "," ;
	  // document.getElementById("titles").innerHTML += "'" + s + "'" + ",";
        });
};

		var pl = ['Kh7rJLAbYE4','oROglYwvPtk','266FY1NHz2U','SceKfwOv2cE','s7_u-iT0BoY','6dAyFtOmYvU','ElDvK6iqNoM','SbaH2aUEEhU'];
		var lengths = [685,6130,557,1012,1673,9555,13595,15336];

		for (var i = 0; i<pl.length; i++) {
			printduration(pl[i]);
		};

		var total_time = lengths.reduce(function(a,b) {return a+b;});

		var seconds_in = Math.floor((new Date().getTime() / 1000) % total_time);

		while (seconds_in > lengths[0]) {
			seconds_in -= lengths[0];
			lengths.push(lengths.shift());
			pl.push(pl.shift());
		};

		// Load the IFrame Player API code asynchronously.
		var tag = document.createElement('script');
		tag.src = "https://www.youtube.com/player_api";
		var firstScriptTag = document.getElementsByTagName('script')[0];
		firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

		// Replace the 'ytplayer' element with an <iframe> and
		// YouTube player after the API code downloads.
		var player;
		function onYouTubePlayerAPIReady() {
		  player = new YT.Player('ytplayer', {
		      width: '640',
		      height: '390',
		      videoId: pl.shift(),
		      playerVars: { 'loop': 1, 'playlist': pl.join(),
		                    'autoplay': 1, 'start': seconds_in, 'controls':0				}
		  });
		};

</script>

    
    
    
  </body>
</html>

